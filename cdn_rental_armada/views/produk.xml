<?xml version="1.0" encoding="utf-8"?>
<odoo>
   <data>
      <!-- adi -->
      <record id="cdn_produk_view_tree" model="ir.ui.view">
         <field name="name">Produk</field>
         <field name="model">cdn.produk</field>
         <field name="arch" type="xml">
            <tree sample="1">
               <field name="name"/>
               <field name="armada_id"/>
               <field name="list_price"/>
               <field name="attribute_line_ids"/>
            </tree>
         </field>
      </record>
      <!-- alvito -->
      <!-- cdn.armada kanban view -->
      <record id="cdn_produk_view_kanban" model="ir.ui.view">
         <field name="name">cdn.produk.view.kanban</field>
         <field name="model">cdn.produk</field>
         <field name="arch" type="xml">
            <kanban string="Kanban Description">
               <field name="id"/>
               <field name="name"/>
               <field name="armada_id"/>
               <field name="list_price"/>
               <field name="image_1920" />
               <templates>
                  <t t-name="kanban-box">
                     <div class="oe_kanban_global_click o_kanban_record_has_image_fill">
                        <t t-if="record.image_1920.raw_value">
                           <div class="o_kanban_image_fill_left d-none d-md-block" t-attf-style="background-image:url('#{kanban_image('cdn.produk','image_1920', record.id.raw_value)}')"/>
                        </t>
                        <t t-else="">
                           <div class="o_kanban_image_fill_left d-none d-md-block" t-attf-style="background-image:url('#{kanban_image('cdn.produk','avatar_128', record.id.raw_value)}')"/>
                        </t>
                        <div class="oe_kanban_details">
                           <h4>
                              <a type="open"><field name="name"/></a>
                           </h4>
                           <ul>
                              <li>
                                 <span class="text-muted">Nama Armada : </span> <field name="armada_id"/>
                              </li>

                              <!-- <li>
                                 <span class="text-muted">Biaya : </span> <field name="list_price"/> <span class="text-muted">/ hari </span>
                              </li> -->
                           </ul>
                        </div>
                     </div>
                  </t>
               </templates>
            </kanban>
         </field>
      </record>
      <record id="cdn_produk_view_form" model="ir.ui.view">
         <field name="name">cdn.produk.view.form</field>
         <field name="model">cdn.produk</field>
         <field name="arch" type="xml">
               <form string="">
                  <sheet>
                     <div>
                        <field name="image_1920" widget="image" class="oe_avatar" />
                     </div>   
                     <group>
                        <group>
                           <!-- <field name="name" readonly="1" force-save="1"/> -->
                           <field name="name"/>
                           <field name="armada_id"/>
                        </group>
                        <group>
                           <field name="list_price"/>
                        </group>
                     </group>
                     <group string="Informasi Armada">
                        <group>
                           <field name="jenis_armada"/>
                           <field name="merek"/>
                           <field name="jenis_kendaraan"/>
                           <field name="jumlah_kursi"/>
                        </group>
                        <group>
                           <field name="tahun_pembuatan"/>
                           <field name="no_plat"/>
                           <field name="no_mesin"/>
                        </group>
                     </group>
                     
                     <notebook>
                           <page name="attribute_varian" string="Varian">
                              <field name="attribute_line_ids">
                                 <tree string="Varian" editable="bottom">
                                       <field name="value_count" attrs="{'readonly': True, 'column_invisible': True}"/>
                                       <field name="attribute_id" on_change="1" attrs="{'readonly': [['id', '!=', False]], 'required': True}" can_create="true" can_write="true"/>
                                       <field name="value_ids" widget="many2many_tags" options="{'no_create_edit': True, 'color_field': 'color'}" context="{'default_attribute_id': attribute_id, 'show_attribute': False}" on_change="1" can_create="true" can_write="true"/>
                                       <button string="Atur" class="float-end btn-secondary" type="object" name="action_open_attribute_values"/>
                                 </tree>
                              </field>
                           </page>
                     </notebook>
                  </sheet>
               </form>
         </field>
      </record>
      <record id="cdn_produk_action" model="ir.actions.act_window">
         <field name="name">Produk</field>
         <field name="type">ir.actions.act_window</field>
         <field name="res_model">cdn.produk</field>
         <field name="view_mode">kanban,tree,form</field>
         <field name="help" type="html">
               <p class="oe_view_nocontent_create">
               </p><p>
               </p>
         </field>
      </record>
      <menuitem id="produk_menu_action" name="Produk" parent="product_menu_categ" action="cdn_produk_action" sequence="0"/>
   </data>
</odoo>
